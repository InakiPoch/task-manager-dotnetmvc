@{ 
    ViewData["Title"] = "Actualizar Tarea";
    var roleCheck = Context.Items["RoleCheck"] as RoleCheck;
}

@using tl2_tp10_2023_InakiPoch.ViewModels
@using tl2_tp10_2023_InakiPoch.Repositories
@model UpdateTaskViewModel

<h1>@ViewData["Title"]</h1>
<form asp-controller="Tasks" asp-action="Update">
    <input hidden asp-for = "@Model.Id">
    @if(roleCheck.IsAdmin()) {
        <div class="form-group">
            <label for="name">Nombre de la tarea</label>
            <input asp-for = "@Model.Name" class="form-control" id="name" required>
        </div>
        <div class="form-group">
            <label for="description">Descripcion</label>
            <input asp-for = "@Model.Description" class="form-control" id="description">
        </div>
        <div class="form-group">
            <label for="color">Color</label>
            <input asp-for = "@Model.Color" class="form-control" id="color">
        </div>
    }
    <div class="form-group">
        <label for="state">Estado</label>
        <select asp-for="@Model.State" class="form-select">
            <option value="Ideas">Ideas</option>
            <option value="ToDo">ToDo</option>
            <option value="Doing">Doing</option>
            <option value="Review">Review</option>
            <option value="Done">Done</option>
        </select>
    </div>
    <button type="submit" class="btn btn-primary">Actualizar</button>
</form>

@section Scripts{<partial name="_ValidationScriptsPartial"/>}